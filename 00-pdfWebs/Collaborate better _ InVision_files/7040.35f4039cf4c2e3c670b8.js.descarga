(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7040],{97040:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(43218),a=n(24246),o=function(e){var t=e.id,n=e.strategy,o=e.dataParams;return(0,a.jsx)(r.default,{id:t,strategy:n,"data-params":o,dangerouslySetInnerHTML:{__html:'/*! version: 0qbis */\n\n(function(){var _excluded=["actionType","eventType","key","location","name"],_excluded2=["global"];function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e3){didErr=true;err=_e3},f:function f(){try{if(!normalCompletion&&it["return"]!=null)it["return"]()}finally{if(didErr)throw err}}}}function _typeof(obj){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var cache={distConfig:{loadBizible:true,loadDrift:true,loadGoogleOptimize:false,loadNone:false,loadRedditPixel:false,loadStorageConsent:true,loadTrike:true,prod:true,verbose:false},storageConsent:{canRunFunctionalScripts:false,canRunAdvertisingScripts:false}};var isArray$2=function isArray$2(arr){return arr&&{}.toString.call(arr)==="[object Array]"};var arrayContains=function arrayContains(arr,value){return arr.indexOf(value)!==-1};var isEmptyObject=function isEmptyObject(obj){return Object.keys(obj).length===0&&obj.constructor===Object};function waitForThenDo(waitFor,thenDo){var timeoutInterval=arguments.length>2&&arguments[2]!==undefined?arguments[2]:500;var timeoutChecks=arguments.length>3&&arguments[3]!==undefined?arguments[3]:20;var timeoutFunc=arguments.length>4?arguments[4]:undefined;var timeout=false;function endTimer(){timeout=true}setTimeout(endTimer,timeoutInterval*timeoutChecks);function checkIfWaitForValueLoaded(){if(waitFor()){thenDo&&thenDo()}else if(!timeout){setTimeout(checkIfWaitForValueLoaded,timeoutInterval)}else{console.warn("waitFor value failed to load");timeoutFunc&&timeoutFunc()}}checkIfWaitForValueLoaded()}function ready(fn){if(document.readyState!=="loading"){fn()}else{document.addEventListener("DOMContentLoaded",fn)}}function parseValueToBoolean(value){if(value==="true"||value==="1"||value===null||value===undefined){return true}if(value==="false"||value==="0"){return false}return value}var parseUrlParams$1=function parseUrlParams$1(urlOrString){var parseStringToValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var splitPath=urlOrString.split("#")[0].split("?");if(splitPath.length===1||splitPath[1]===""){return false}var urlParams={};var parsedUrlParams=splitPath[1].split("&");for(var index=0;index<parsedUrlParams.length;index+=1){var keyAndValue=parsedUrlParams[index].split("=");urlParams[keyAndValue[0]]=parseStringToValue?parseValueToBoolean(keyAndValue[1]):keyAndValue[1]}return urlParams};function verboseLog(){if(cache.distConfig.verbose){var _console;(_console=console).log.apply(_console,arguments)}}function attachDomNodes(_ref){var _ref$nodes=_ref.nodes,nodes=_ref$nodes===void 0?[]:_ref$nodes,_ref$target=_ref.target,target=_ref$target===void 0?document.head||document.getElementsByTagName("head")[0]:_ref$target;if(nodes.length===0){return}if(cache.distConfig.verbose){for(var i=0;i<nodes.length;i+=1){console.log("attaching script: ".concat(nodes[i].replace(/\\s/g,"").substring(0,300).trim(),"..."))}}var range=document.createRange();range.setStart(target,0);target.appendChild(range.createContextualFragment(nodes.join("\\n")))}function dispatchCustomEvent(){var name=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var details=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};window.dispatchEvent(new CustomEvent(name,{detail:_objectSpread({},details)}))}function dispatchInVisionEvent(_ref2){var _ref2$actionType=_ref2.actionType,actionType=_ref2$actionType===void 0?"follow":_ref2$actionType,_ref2$eventType=_ref2.eventType,eventType=_ref2$eventType===void 0?"Marketing.Site.Selected":_ref2$eventType,_ref2$key=_ref2.key,key=_ref2$key===void 0?"auto":_ref2$key,_ref2$location=_ref2.location,location=_ref2$location===void 0?"body":_ref2$location,_ref2$name=_ref2.name,name=_ref2$name===void 0?"inv-site-select-clicked":_ref2$name,rest=_objectWithoutProperties(_ref2,_excluded);return dispatchCustomEvent(name,_objectSpread({actionType:actionType,eventType:eventType,key:key,location:location},rest))}function throttle(callback){var _arguments=arguments;var limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;var wait=false;return function(){if(!wait){callback.apply(null,_arguments);wait=true;setTimeout((function(){wait=false}),limit)}}}function hasKey(object,key){return Object.prototype.hasOwnProperty.call(object,key)&&object[key]!==null}var taskList=[];var taskHandle=null;function runTaskQueue(deadline){var _loop=function _loop(){var task=taskList.shift();setTimeout((function(){task.handler(task.data)}),task.delay||0)};while((deadline.timeRemaining()>0||deadline.didTimeout)&&taskList.length){_loop()}if(taskList.length){taskHandle=requestIdleCallback(runTaskQueue,{timeout:1e3})}else{taskHandle=0}}function enqueueTask(taskHandler,taskData){taskList.push({handler:taskHandler,data:taskData,delay:3e3});if(!taskHandle){taskHandle=requestIdleCallback(runTaskQueue,{timeout:1e3})}}function attachElementToHead(element){(cache.head||document.getElementsByTagName("head")[0]).appendChild(element)}var encodeCookieParams=function encodeCookieParams(){var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return Object.entries(params).map((function(_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];return"".concat(encodeURIComponent(key),"=").concat(encodeURIComponent(value))})).join("&")};var decodeCookieParams=function decodeCookieParams(){var cookieValue=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return cookieValue.split("&").reduce((function(paramsObj,currentParam){var _currentParam$split=currentParam.split("="),_currentParam$split2=_slicedToArray(_currentParam$split,2),key=_currentParam$split2[0],value=_currentParam$split2[1];paramsObj[decodeURIComponent(key)]=decodeURIComponent(value);return paramsObj}),{})};function getUrlParts(){var urlToParse=arguments.length>0&&arguments[0]!==undefined?arguments[0]:window.location.href;var url=new URL(urlToParse);var hash=url.hash,host=url.host,hostname=url.hostname,href=url.href,origin=url.origin,password=url.password,pathname=url.pathname,port=url.port,protocol=url.protocol,search=url.search,searchParams=url.searchParams,username=url.username;return{rootDomain:host.split(".").reverse().splice(0,2).reverse().join("."),hash:hash,host:host,hostname:hostname,href:href,origin:origin,password:password,pathname:pathname,port:port,protocol:protocol,search:search,searchParams:searchParams,username:username}}var objectToParamsString=function objectToParamsString(data){var withQuestionMark=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var paramString=!isEmptyObject(data)?Object.keys(data).map((function(param){var prepend="".concat(param,"=");if(isArray$2(param)){return prepend+data[param].join(",")}return prepend+data[param]})).join("&"):null;return paramString?"".concat(withQuestionMark?"?":"").concat(paramString):""};function bizibleCallback(){var script=document.createElement("script");script.type="text/javascript";script.async=true;script.src="//cdn.bizible.com/scripts/bizible.js";attachElementToHead(script)}var bizibleBlacklist=["/careers"];function getDistConfig(){cache.distScriptUrlParams=cache.distScriptUrlParams||{};var distScript=document.getElementById("inv-dist-script");if(distScript){var paramString="";if(distScript.src&&distScript.src.indexOf("?")>=0){paramString=distScript.src}else{var dataString=distScript.getAttribute("data-params");if(dataString){paramString=dataString}}cache.distScriptUrlParams=parseUrlParams$1(paramString)}cache.windowUrlParams=parseUrlParams$1(window.location.search||"");cache.distConfig=_objectSpread(_objectSpread(_objectSpread({},cache.distConfig),cache.distScriptUrlParams),cache.windowUrlParams);cache.distConfig.loadBizible=cache.distConfig.loadBizible&&bizibleBlacklist.indexOf(window.location.pathname)===-1}function chatBotSettings(){cache.pageSettings.chatBot=cache.pageSettings.chatBot||{};cache.pageSettings.chatBot.eventName="inv-init-chat-bot";cache.pageSettings.chatBot.activeSettings=cache.pageSettings.chatBot.defaultSettings||{}}function getPageSettings(){cache.pageSettings=cache.pageSettings||{};var scriptTag=document.getElementById("__inv_page-settings");if(scriptTag&&scriptTag.text){cache.pageSettings=_objectSpread(_objectSpread({},cache.pageSettings),JSON.parse(scriptTag.text)||{})}}function checkPatternMatch(_ref5){var _ref5$pageSettingsKey=_ref5.pageSettingsKey,pageSettingsKey=_ref5$pageSettingsKey===void 0?"":_ref5$pageSettingsKey,_ref5$distConfigKey=_ref5.distConfigKey,distConfigKey=_ref5$distConfigKey===void 0?"":_ref5$distConfigKey;if(Object.prototype.hasOwnProperty.call(cache.pageSettings,pageSettingsKey)&&Object.prototype.hasOwnProperty.call(cache.distConfig,distConfigKey)){var _ref6=cache.pageSettings[pageSettingsKey]||{},_ref6$defaultSettings=_ref6.defaultSettings;_ref6$defaultSettings=_ref6$defaultSettings===void 0?{}:_ref6$defaultSettings;var _ref6$defaultSettings2=_ref6$defaultSettings.urlPatternMatched,urlPatternMatched=_ref6$defaultSettings2===void 0?false:_ref6$defaultSettings2,_ref6$defaultSettings3=_ref6$defaultSettings.load,load=_ref6$defaultSettings3===void 0?false:_ref6$defaultSettings3,_ref6$defaultSettings4=_ref6$defaultSettings.disabled,disabled=_ref6$defaultSettings4===void 0?false:_ref6$defaultSettings4;if(urlPatternMatched){if(load===true&&disabled===false){cache.distConfig[distConfigKey]=true}else{cache.distConfig[distConfigKey]=false}}}}function checkPatternMatches(){var checkThese=[{pageSettingsKey:"googleOptimize",distConfigKey:"loadGoogleOptimize"},{pageSettingsKey:"redditPixel",distConfigKey:"loadRedditPixel"}];for(var i=0;i<checkThese.length;i+=1){var args=checkThese[i];checkPatternMatch(args)}}function compileCache(){getDistConfig();getPageSettings();chatBotSettings();checkPatternMatches();verboseLog("[cache]",cache)}function invDistParams(){function addGlobalEventSpies(){var globalInVisionEvents=["inv-route-changed","inv-video-started","inv-video-played","inv-video-paused","inv-video-ended","inv-video-watched-10","inv-video-watched-25","inv-video-watched-50","inv-video-watched-75","inv-form-interacted","inv-form-submit-attempt","inv-form-submitted","inv-form-observed","inv-site-select-clicked","inv-modal-opened","inv-modal-closed","inv-global-header-search-clicked","inv-global-header-on-scroll-btn-clicked","inv-experiment-viewed"];var _loop2=function _loop2(i){var evtStr=globalInVisionEvents[i];window.addEventListener(evtStr,(function(e){return console.log("\ud83c\udf0e%c".concat(evtStr),"color:#000;background-color:#ff6a8f;padding:2px 3px 1px;border:2px solid #d75978",e)}),false)};for(var i=0;i<globalInVisionEvents.length;i+=1){_loop2(i)}}if(cache.distConfig.verbose){console.log("DIST | InV distConfig:");var keys=Object.keys(cache.distConfig);for(var index=0;index<keys.length;index+=1){var key=keys[index];console.log("  ","".concat(key,":"),cache.distConfig[key]?"\u2705":"\ud83d\udeab")}addGlobalEventSpies()}}function polyfills(){window.requestIdleCallback=window.requestIdleCallback||function(handler){var startTime=Date.now();return setTimeout((function(){handler({didTimeout:false,timeRemaining:function timeRemaining(){return Math.max(0,50-(Date.now()-startTime))}})}),1)};window.cancelIdleCallback=window.cancelIdleCallback||function(id){clearTimeout(id)}}function setup(){compileCache();polyfills();invDistParams()}function productStorageConsentLib(){var _ABSTRACT_CATEGORIES_;var log=function log(msg){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}return verboseLog.apply(void 0,["[storage-consent] ".concat(msg)].concat(args))};if(window.__storageConsentAdded){log("Library already initialized.");return}window.__storageConsentAdded=true;var shouldForceScriptExecution=window.forceStorageConsentScript||hasKey(cache.windowUrlParams,"force-storage-consent-script");var overriddenStorageConsentDomain=hasKey(cache.windowUrlParams,"override-storage-consent-domain")?cache.windowUrlParams["override-storage-consent-domain"]:false;var isCookieSet=function isCookieSet(name){return document.cookie.indexOf(name)>-1};var getCookieValue=function getCookieValue(name){return(document.cookie.match(new RegExp("(^| )".concat(name,"=([^;]+)")))||[])[2]};var setCookie=function setCookie(name,value){var expiryDays=arguments.length>2&&arguments[2]!==undefined?arguments[2]:365;var d=new Date;d.setTime(d.getTime()+expiryDays*24*60*60*1e3);document.cookie="".concat(name,"=").concat(value,";expires=").concat(d.toUTCString(),";path=/")};var GRANULAR_CATEGORIES={STRICTLY_NECESSARY_COOKIES:"C0001",PERFORMANCE_COOKIES:"C0002",FUNCTIONAL_COOKIES:"C0003",TARGETING_COOKIES:"C0004",SOCIAL_MEDIA_COOKIES:"C0005"};var ABSTRACT_CATEGORIES={REQUIRED:1,FUNCTIONAL:2,ADVERTISING:3};var ABSTRACT_CATEGORIES_TO_GRANULAR_CATEGORIES=(_ABSTRACT_CATEGORIES_={},_defineProperty(_ABSTRACT_CATEGORIES_,ABSTRACT_CATEGORIES.REQUIRED,[GRANULAR_CATEGORIES.STRICTLY_NECESSARY_COOKIES]),_defineProperty(_ABSTRACT_CATEGORIES_,ABSTRACT_CATEGORIES.FUNCTIONAL,[GRANULAR_CATEGORIES.PERFORMANCE_COOKIES,GRANULAR_CATEGORIES.FUNCTIONAL_COOKIES]),_defineProperty(_ABSTRACT_CATEGORIES_,ABSTRACT_CATEGORIES.ADVERTISING,[GRANULAR_CATEGORIES.TARGETING_COOKIES,GRANULAR_CATEGORIES.SOCIAL_MEDIA_COOKIES]),_ABSTRACT_CATEGORIES_);var HOSTNAME_ABSTRACT_CATEGORIES={"clearbrain.com":ABSTRACT_CATEGORIES.FUNCTIONAL,"facebook.com":ABSTRACT_CATEGORIES.ADVERTISING,"atdmt.com":ABSTRACT_CATEGORIES.ADVERTISING,"marketo.com":ABSTRACT_CATEGORIES.FUNCTIONAL,"google-analytics.com:":ABSTRACT_CATEGORIES.FUNCTIONAL,"hubspot.com":ABSTRACT_CATEGORIES.FUNCTIONAL,"madkuku.com":ABSTRACT_CATEGORIES.ADVERTISING,"twitter.com":ABSTRACT_CATEGORIES.ADVERTISING,"pendo.com":ABSTRACT_CATEGORIES.FUNCTIONAL,"hotjar.com":ABSTRACT_CATEGORIES.FUNCTIONAL,"amplitude.com":ABSTRACT_CATEGORIES.REQUIRED,"atlassian.net":ABSTRACT_CATEGORIES.REQUIRED,"bizible.com":ABSTRACT_CATEGORIES.FUNCTIONAL,"braze.com":ABSTRACT_CATEGORIES.FUNCTIONAL,"bugsnag.com":ABSTRACT_CATEGORIES.REQUIRED,"codepen.io":ABSTRACT_CATEGORIES.REQUIRED,"googleapis.com":ABSTRACT_CATEGORIES.REQUIRED,"google.com":ABSTRACT_CATEGORIES.REQUIRED,"googletagmanager.com":ABSTRACT_CATEGORIES.ADVERTISING,"launchdarkly.com":ABSTRACT_CATEGORIES.REQUIRED,"linkedin.com":ABSTRACT_CATEGORIES.ADVERTISING,"bizographics.com":ABSTRACT_CATEGORIES.ADVERTISING,"pusher.com":ABSTRACT_CATEGORIES.REQUIRED,"pusherapp.com":ABSTRACT_CATEGORIES.REQUIRED,"segment.com":ABSTRACT_CATEGORIES.REQUIRED,"typekit.net":ABSTRACT_CATEGORIES.REQUIRED,"vimeo.com":ABSTRACT_CATEGORIES.REQUIRED,"webobserver.io":ABSTRACT_CATEGORIES.FUNCTIONAL,"wistia.com":ABSTRACT_CATEGORIES.REQUIRED,"wistia.net":ABSTRACT_CATEGORIES.REQUIRED,"youtube.com":ABSTRACT_CATEGORIES.REQUIRED,"zendesk.com":ABSTRACT_CATEGORIES.FUNCTIONAL,"zuora.com":ABSTRACT_CATEGORIES.REQUIRED};var STORAGE_CONSENT_COOKIE_NAME="inv-storage-consent";var consentedCategories;var consentModel;var isStorageContentReady=false;try{if(!shouldForceScriptExecution){consentModel=decodeCookieParams(getCookieValue(STORAGE_CONSENT_COOKIE_NAME)).consentModel;log("Consent model from the storage-consent cookie: ",consentModel);if(consentModel){var isConsentModelNoticeOnly=consentModel==="notice only";var wasTheAlertBoxClosed=isCookieSet("OptanonAlertBoxClosed");log("Is the consent model notice only?",isConsentModelNoticeOnly);log("Was the alert box closed?",wasTheAlertBoxClosed);if(isConsentModelNoticeOnly||wasTheAlertBoxClosed){log(\'We should be able to skip the OneTrust script. Validating the "OptanonConsent" cookie...\');var _decodeCookieParams=decodeCookieParams(getCookieValue("OptanonConsent")),_decodeCookieParams$g=_decodeCookieParams.groups,groups=_decodeCookieParams$g===void 0?"":_decodeCookieParams$g;var persistedConsentedCategories=groups.split(",").filter((function(x){return x.split(":")[1]==="1"})).map((function(x){return x.split(":")[0]}));if(persistedConsentedCategories.includes(GRANULAR_CATEGORIES.STRICTLY_NECESSARY_COOKIES)){log(\'The "OptanonConsent" cookie was validated successfully and we can skip the OneTrust script. Consented categories from the cookie:\',persistedConsentedCategories);consentedCategories=persistedConsentedCategories;isStorageContentReady=true}else{log(\'The "OptanonConsent" cookie was not valid. Consented categories from the cookie:\',persistedConsentedCategories)}}}else{log("No storage-consent cookie with a valid consent model has been found so we will run the OneTrust script.")}}}catch(err){console.error("Storage Consent - Unable to check if we can skip the OneTrust script initialization")}var blockedUserAgentSubStrings=["invisionapp_ima","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_5) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/43.0.2357.65 Mobile Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Chrome/76.0.3809.132 Mobile Safari/605.1.15","InVisionStudio","WebView"];var blockedUserAgentPatterns=[/(IMA|IMI|IFI|CraftManager|InVisionStudio|Conv|FreehandTeams)(\\s|\\/)/gi,/(iPhone|iPod|iPad)(?!.*Safari)/gi,/Android.*(wv|\\.0\\.0\\.0)/gi,/Linux; U; Android/gi];var isInIframe=top&&self&&top!==self;var shouldForceHideOneTrustBanner=isInIframe||blockedUserAgentSubStrings.some((function(ua){return window.navigator.userAgent.toLowerCase().indexOf(ua.toLowerCase())>-1}))||blockedUserAgentPatterns.some((function(pat){return pat.test(window.navigator.userAgent)}));var cachedPoorly="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js";var notCachedAtAll="".concat(cachedPoorly,"?cachebust=").concat(Date.now());var ONETRUST_SCRIPT_SRC={test:hasKey(cache.windowUrlParams,"nocachebust")?cachedPoorly:notCachedAtAll,prod:cachedPoorly};var ONETRUST_SCRIPT_DOMAIN_ID={"designbetter.co":{test:"a15010c1-60be-42de-9ea7-ebb81d957e48-test",prod:"a15010c1-60be-42de-9ea7-ebb81d957e48"},"designdisruptors.com":{test:"5ad0f30b-3ec6-4887-8600-a377c9bc71cb-test",prod:"5ad0f30b-3ec6-4887-8600-a377c9bc71cb"},"invisionapp.com":{test:"d0d9132f-a6e0-4094-81da-798f2d0285d2-test",prod:"d0d9132f-a6e0-4094-81da-798f2d0285d2"},"invision.works":{test:"d0d9132f-a6e0-4094-81da-798f2d0285d2-test",prod:"d0d9132f-a6e0-4094-81da-798f2d0285d2-test"},"invisionbeta.com":{test:"d0d9132f-a6e0-4094-81da-798f2d0285d2-test",prod:"d0d9132f-a6e0-4094-81da-798f2d0285d2-test"},"muz.li":{test:"7a37cfa3-f3ec-488e-8770-a46d01ff098a-test",prod:"7a37cfa3-f3ec-488e-8770-a46d01ff098a"},"switchtosketchapp.com":{test:"022a63af-f511-4079-bb8d-5ce5f524184e-test",prod:"022a63af-f511-4079-bb8d-5ce5f524184e"},"wake.com":{test:"6087eb17-e962-403c-a83d-ef62bbec6fec-test",prod:"6087eb17-e962-403c-a83d-ef62bbec6fec"}};var didInvokeOnReady=false;var domain;var environment;if(overriddenStorageConsentDomain){log(\'Overriding the domain with "\'.concat(overriddenStorageConsentDomain,\'"\'));domain=overriddenStorageConsentDomain;environment="test"}else{environment=window.inGlobalContext&&window.inGlobalContext.appMetaData&&window.inGlobalContext.appMetaData.tier==="testing"?"test":"prod";var hostname=window.location.hostname||"";domain=hostname.substring(hostname.lastIndexOf(".",hostname.lastIndexOf(".")-1)+1)}var scriptSrc=ONETRUST_SCRIPT_SRC[environment];var scriptDomainId=ONETRUST_SCRIPT_DOMAIN_ID[domain]&&ONETRUST_SCRIPT_DOMAIN_ID[domain][environment];if(!scriptDomainId){console.error(\'Storage-Consent - Cannot find a valid script domain ID for "\'.concat(domain,\'".\'))}if(!isStorageContentReady&&scriptSrc&&scriptDomainId){log("Running the OneTrust script...");var script=document.createElement("script");script.src=scriptSrc;script.setAttribute("data-domain-script",scriptDomainId);script.async=true;attachElementToHead(script);window.OptanonWrapper=function(){if(shouldForceHideOneTrustBanner){log("OneTrust banner was forced to hide because we\'re in an embedded context.");var oneTrustDiv=document.querySelector("#onetrust-consent-sdk");if(oneTrustDiv){oneTrustDiv.style.display="none"}}isStorageContentReady=true;consentedCategories=(window.OnetrustActiveGroups||"").split(",").filter((function(x){return!!x}));if(!didInvokeOnReady){log("OneTrust is ready.");try{consentLevelReadyCallbacks.forEach((function(callback){return callback()}))}catch(err){console.error("StorageContent - error while running the consent level ready callbacks",err)}didInvokeOnReady=true;var oneTrustDomainData=window.Optanon&&window.Optanon.GetDomainData&&window.Optanon.GetDomainData();consentModel=oneTrustDomainData&&oneTrustDomainData.ConsentModel&&oneTrustDomainData.ConsentModel.Name;if(consentModel){setCookie(STORAGE_CONSENT_COOKIE_NAME,encodeCookieParams({consentModel:consentModel}));log(\'Created a cookie with the "consentModel" info.\')}}else{log("OneTrust consent changed.");try{consentLevelChangeCallbacks.forEach((function(callback){return callback()}))}catch(err){console.error("StorageContent - error while running the consent level change callbacks",err)}}}}var consentLevelReadyCallbacks=[];var onConsentLevelReady=function onConsentLevelReady(callback){if(isStorageContentReady){setTimeout(callback,15)}consentLevelReadyCallbacks.push(callback)};var consentLevelChangeCallbacks=[];var onConsentLevelChange=function onConsentLevelChange(callback){consentLevelChangeCallbacks.push(callback)};var consentedToCategory=function consentedToCategory(abstractCategory){var cookieCategories=ABSTRACT_CATEGORIES_TO_GRANULAR_CATEGORIES[abstractCategory]||[];return!!(consentedCategories&&consentedCategories.find((function(consentedCategory){return cookieCategories.includes(consentedCategory)})))};var canRunFunctionalScripts=function canRunFunctionalScripts(){return consentedToCategory(ABSTRACT_CATEGORIES.FUNCTIONAL)};var canRunAdvertisingScripts=function canRunAdvertisingScripts(){return consentedToCategory(ABSTRACT_CATEGORIES.ADVERTISING)};var getConsentedCategories=function getConsentedCategories(){return consentedCategories};var getConsentModel=function getConsentModel(){return consentModel};var getScriptDomain=function getScriptDomain(){return domain};var getScriptEnvironment=function getScriptEnvironment(){return environment};var showConsentPreferencesDialog=function showConsentPreferencesDialog(){if(window.Optanon&&window.Optanon.ToggleInfoDisplay){window.Optanon.ToggleInfoDisplay()}else{console.error(\'Cannot show the consent alert because the OneTrust script did not ran. To force the script to run you can either use the "?force-script-execution" query-param or set "window.forceStorageConsentScript = true" before running the StorageConsent.\')}};var qualifiesForGDPR=function qualifiesForGDPR(){return consentModel&&consentModel!=="notice only"};var reportDeprecation=function reportDeprecation(){var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};console.error(\'The "StorageContent.\'.concat(params.apiName,\'" API is deprecated and should not be used anymore. Please check the Storage Content documentation to see what APIs you can use instead (https://github.com/InVisionApp/storage-consent).\'))};var hostnameExtractor;var consentedToDomain=function consentedToDomain(hostname){reportDeprecation({apiName:"consentedToDomain",hostname:hostname});var isHostnameConsented=consentedToCategory(ABSTRACT_CATEGORIES.FUNCTIONAL);if(hostname&&hostname.indexOf("/")>-1){if(!hostnameExtractor){hostnameExtractor=document.createElement("a")}hostnameExtractor.href=hostname;hostname=hostnameExtractor.hostname||hostname}var hostnameAbstractCategory=HOSTNAME_ABSTRACT_CATEGORIES[hostname];if(hostnameAbstractCategory){isHostnameConsented=consentedToCategory(hostnameAbstractCategory)}return isHostnameConsented};var hasGDPRCookies=function hasGDPRCookies(){reportDeprecation({apiName:"hasGDPRCookies"});return consentModel&&consentModel!=="notice only"};var getConsentDecisionForDomain=function getConsentDecisionForDomain(){reportDeprecation({apiName:"getConsentDecisionForDomain"})};var getConsentDecision=function getConsentDecision(){reportDeprecation({apiName:"getConsentDecision"})};var getGDPRConsentDecision=function getGDPRConsentDecision(){reportDeprecation({apiName:"getGDPRConsentDecision"})};var getConsentCategories=function getConsentCategories(){reportDeprecation({apiName:"getConsentCategories"});return getConsentedCategories()};window.StorageConsent=window.StorageConsent||{consentCategories:ABSTRACT_CATEGORIES,cookieCategories:GRANULAR_CATEGORIES,onConsentLevelReady:onConsentLevelReady,onConsentLevelChange:onConsentLevelChange,consentedToCategory:consentedToCategory,consentedToDomain:consentedToDomain,canRunFunctionalScripts:canRunFunctionalScripts,canRunAdvertisingScripts:canRunAdvertisingScripts,hasGDPRCookies:hasGDPRCookies,showConsentPreferencesDialog:showConsentPreferencesDialog,qualifiesForGDPR:qualifiesForGDPR,getConsentDecisionForDomain:getConsentDecisionForDomain,getConsentDecision:getConsentDecision,getGDPRConsentDecision:getGDPRConsentDecision,getConsentedCategories:getConsentedCategories,getConsentCategories:getConsentCategories,getConsentModel:getConsentModel,getScriptDomain:getScriptDomain,getScriptEnvironment:getScriptEnvironment}}function storageConsent(){function marketingStorageConsentLib(){verboseLog("DIST | loading StorageConsent");if(!window.inGlobalContext){window.inGlobalContext={appMetaData:{tier:cache.distConfig&&cache.distConfig.prod?"prod":"testing"}}}productStorageConsentLib();window.StorageConsent.onConsentLevelReady((function(){var bannerDiv=document.querySelector("#onetrust-banner-sdk");if(bannerDiv){bannerDiv.classList.remove("ot-bottom-right")}}))}if(cache.distConfig.loadStorageConsent){marketingStorageConsentLib()}}function rollworksCallback(){window.adroll_adv_id="DAJLGFUXBRBIHF43O3E5QT";window.adroll_pix_id="HN5N7P2SS5CGBOAQKFE6PU";window.adroll_version="2.0";(function(w,d,e,o,a){w.__adroll_loaded=true;w.adroll=w.adroll||[];w.adroll.f=["setProperties","identify","track"];for(a=0;a<w.adroll.f.length;a++){w.adroll[w.adroll.f[a]]=w.adroll[w.adroll.f[a]]||(function(n){return function(){w.adroll.push([n,arguments])}})(w.adroll.f[a])}e=d.createElement("script");e.async=1;e.src="https://s.adroll.com/j/".concat(window.adroll_adv_id,"/roundtrip.js");attachElementToHead(e)})(window,document);window.adroll.track("pageView")}function adrollRecordUser(data,cb){try{window.__adroll.record_user(data)}catch(err){}finally{cb&&cb()}}function adrollAndDrift(){function addAdrollPixelAndRecordUser(){window.drift.on("emailCapture",(function(e){if(e&&e.data&&e.data.email){var email=e.data.email;var img=document.createElement("img");img.src="".concat("//d.adroll.com/emailc/DAJLGFUXBRBIHF43O3E5QT/HN5N7P2SS5CGBOAQKFE6PU?"+"adroll_external_data=ipixel%3D1%26adroll_email%3D").concat(encodeURIComponent(email))}adrollRecordUser({adroll_segments:"73fd4442"})}))}waitForThenDo((function(){if(hasKey(window,"drift")){return true}return false}),addAdrollPixelAndRecordUser)}function shouldAdAdrollAndDrift(){if(cache.storageConsent.canRunAdvertisingScripts){adrollAndDrift()}}function adrollAndMarketo(){function fireOnEvent(_ref7){var _ref7$detail=_ref7.detail;_ref7$detail=_ref7$detail===void 0?{}:_ref7$detail;var _ref7$detail$redirect=_ref7$detail.redirectBlockers,redirectBlockers=_ref7$detail$redirect===void 0?{}:_ref7$detail$redirect;redirectBlockers.allowAdrollAndMarketo=false;function allowFormSubmission(){redirectBlockers.allowAdrollAndMarketo=true}adrollRecordUser({adroll_segments:"0ec699f4"},allowFormSubmission)}window.addEventListener("inv-form-submitted",fireOnEvent,false)}function webSightsCallback(){var script=document.createElement("script");script.type="text/javascript";script.async=true;script.referrerPolicy="unsafe-url";script.src="https://ws.zoominfo.com/pixel/0xt8NCMm080w2h9Tsajt";attachElementToHead(script)}function driftAbTestCallback(){function getRandomInt(min,max){min=Math.ceil(min);max=Math.floor(max);return Math.floor(Math.random()*(max-min))+min}var random=getRandomInt(1,100);if(random<=50){document.cookie="DriftPlaybook=A"}else{document.cookie="DriftPlaybook=B"}}function loadDriftWidget(_ref8){var beforeCB=_ref8.beforeCB,afterCB=_ref8.afterCB;beforeCB&&beforeCB();var _drift=window.driftt=window.drift=window.driftt||[];if(!_drift.init){if(_drift.invoked)return void(window.console&&console.error&&console.error("Drift snippet included twice."));_drift.invoked=!0,_drift.methods=["identify","config","track","reset","debug","show","ping","page","hide","off","on"],_drift.factory=function(e){return function(){var n=Array.prototype.slice.call(arguments);return n.unshift(e),_drift.push(n),_drift}},_drift.methods.forEach((function(e){_drift[e]=_drift.factory(e)})),_drift.load=function(t){var e=3e5;var n=Math.ceil(new Date/e)*e;var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.crossorigin="anonymous",o.src="https://js.driftt.com/include/".concat(n,"/").concat(t,".js");attachElementToHead(o)}}afterCB&&afterCB(_drift);_drift.SNIPPET_VERSION="0.3.1";_drift.load("u7ucs858bt3i")}function setLoaded$1(_drift){_drift.on("ready",(function(){shouldAdAdrollAndDrift()}))}function addDrift(){loadDriftWidget({afterCB:setLoaded$1})}function injectFakeChatBot(){var conversationsIcon=\'<svg width="24px" height="24px" viewBox="0 0 24 24" role="img" aria-label="aria-label for icon" class="conversations"><g fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" fill="none"><path stroke-width="1.5" d="M10.6771429,12.5046369 C10.2357143,11.7491796 10,10.8888572 10,9.99357968 C10,7.23569696 12.2385714,5 15,5 C17.7614286,5 20,7.23569696 20,9.99357968 C20,12.7514624 17.7614286,14.9871594 15,14.9871594 L12.4607143,14.9871594 L10,15 L10.6771429,12.5046369 Z" transform="matrix(-1 0 0 1 30 0)"></path><path stroke-width="1.5" d="M13.0726448,16.8328418 C12.1659924,18.1016302 10.6797265,18.9288529 9,18.9288529 L6.46071429,18.9288529 L4,18.9416935 L4.67714286,16.4463304 C4.23571429,15.6908732 4,14.8305507 4,13.9352732 C4,11.4376863 5.60242488,9.36836644 8,9"></path></g></svg>\';var dotsIcon=\'<div class="dots"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div>\';var closeMessageButton=\'<button class="close-x" role="button" aria-label="click to close this message" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" role="img" aria-label="Close Message Button" focusable="false"><path d="M10.2.3L6 4.6 1.8.3C1.4 0 .7 0 .3.3s-.4 1 0 1.4L4.6 6 .4 10.2c-.4.4-.4 1 0 1.4.4.4 1 .4 1.4 0L6 7.4l4.2 4.2c.4.4 1 .4 1.4 0 .4-.4.4-1 0-1.4L7.4 6l4.2-4.2c.4-.4.4-1 0-1.4-.3-.4-1-.4-1.4-.1"></path></svg></button>\';function attachButton(){var body=document.body||document.getElementsByTagName("body")[0];var _cache$pageSettings$c=cache.pageSettings.chatBot.activeSettings,_cache$pageSettings$c2=_cache$pageSettings$c.behavior,behavior=_cache$pageSettings$c2===void 0?"low-attention":_cache$pageSettings$c2,_cache$pageSettings$c3=_cache$pageSettings$c.behaviorSettings,behaviorSettings=_cache$pageSettings$c3===void 0?{}:_cache$pageSettings$c3;var _behaviorSettings$del=behaviorSettings.delayTime,delayTime=_behaviorSettings$del===void 0?30:_behaviorSettings$del,_behaviorSettings$del2=behaviorSettings.delayScroll,delayScroll=_behaviorSettings$del2===void 0?"100vh":_behaviorSettings$del2;cache.fakeChatWrapper=document.createElement("div");cache.fakeChatWrapper.id="__inv_chat-bot";cache.fakeChatWrapper.classList.add(behavior);function initDelayTime(){cache.fakeChatWrapper.style.animationDelay="".concat(delayTime,"s")}function initDelayScroll(){var firstChar=delayScroll.substring(0,1);var usingCssSelector=firstChar==="#"||firstChar===".";var lastChar=delayScroll.substring(delayScroll.length-1,delayScroll.length);var usingPercOfPage=!usingCssSelector&&lastChar==="%";var yOffset=delayScroll;var parentElement=body;cache.fakeChatTrigger=null;if(usingPercOfPage){yOffset=delayScroll.replace("%");yOffset=parseFloat(yOffset);if(typeof yOffset!=="number"){yOffset=50}if(yOffset>=90){yOffset=88}yOffset/=100}else{if(usingCssSelector){var _delayScroll$replace$=delayScroll.replace("+=","*+").replace("-=","*-").split("*"),_delayScroll$replace$2=_slicedToArray(_delayScroll$replace$,2),elementId=_delayScroll$replace$2[0],_delayScroll$replace$3=_delayScroll$replace$2[1],offsetFromElement=_delayScroll$replace$3===void 0?0:_delayScroll$replace$3;var element=elementId?document.querySelectorAll(elementId)[0]:false;if(element){parentElement=element}if(offsetFromElement){yOffset=offsetFromElement}}cache.fakeChatTrigger=document.createElement("div");cache.fakeChatTrigger.classList.add("__inv_chat-bot-trigger");cache.fakeChatElemToMount=cache.fakeChatTrigger;cache.fakeChatTrigger.style.transform="translateY(".concat(yOffset,")");parentElement.appendChild(cache.fakeChatElemToMount)}var throttledUpdatePosition=throttle(updatePosition,100);window.addEventListener("scroll",throttledUpdatePosition,false);function reveal(){cache.fakeChatWrapper.classList.add("reveal");window.removeEventListener("scroll",throttledUpdatePosition,false);if(cache.fakeChatTrigger){cache.fakeChatTrigger.remove()}}function updatePosition(){var yScroll=window.pageYOffset||document.documentElement.scrollTop;var docHeight=document.body.scrollHeight||document.documentElement.scrollHeight;var yPos=!usingPercOfPage?cache.fakeChatTrigger.getBoundingClientRect().top:docHeight*yOffset;var scrolledPastTrigger=yScroll>=yPos;var triggerBeyondViewport=yPos>=docHeight&&yScroll>=docHeight-window.innerHeight*2;if(scrolledPastTrigger||triggerBeyondViewport){reveal()}}updatePosition()}switch(behavior){case"delayed":initDelayTime();break;default:initDelayScroll();break}cache.fakeChatButton=document.createElement("button");cache.fakeChatButton.classList.add("__inv_chat-bot-btn","show");cache.fakeChatButton.role="button";cache.fakeChatButton.ariaLabel="click to start a conversation";function closeFakeChatAndInitChat(e){if(e.target.classList.contains("close-x")||e.target.parentElement.classList.contains("close-x")||e.target.parentElement.parentElement.classList.contains("close-x")){return false}if(cache.fakeChatMessageBubble){cache.fakeChatMessageBubble.classList.remove("show")}cache.fakeChatWrapper.classList.add("interacted");cache.fakeChatWrapper.removeAttribute("style");dispatchCustomEvent(cache.pageSettings.chatBot.eventName);dispatchInVisionEvent({actionType:"interact",ariaLabel:"chat-bot-init"})}if(cache.pageSettings.chatBot.activeSettings.textOnLoad){cache.fakeChatMessageBubble=document.createElement("div");cache.fakeChatMessageBubble.classList.add("__inv_chat-bot-msg","show");var fakeChatMessageSpan=document.createElement("span");fakeChatMessageSpan.innerText=cache.pageSettings.chatBot.activeSettings.textOnLoad||"Are you considering a digital whiteboard for your company? How many designers are on your team?";cache.fakeChatMessageBubble.appendChild(fakeChatMessageSpan);cache.fakeChatMessageBubble.addEventListener("click",closeFakeChatAndInitChat,false);attachDomNodes({nodes:[closeMessageButton],target:cache.fakeChatMessageBubble});var closeBtn=cache.fakeChatMessageBubble.getElementsByClassName("close-x")[0];closeBtn.addEventListener("click",(function(){cache.fakeChatMessageBubble.classList.remove("show");dispatchInVisionEvent({actionType:"interact",ariaLabel:"chat-bot-blurb-close"})}),false);cache.fakeChatWrapper.appendChild(cache.fakeChatMessageBubble)}attachDomNodes({nodes:[conversationsIcon,dotsIcon],target:cache.fakeChatButton});cache.fakeChatWrapper.appendChild(cache.fakeChatButton);cache.fakeChatButton.addEventListener("click",closeFakeChatAndInitChat,false);body.appendChild(cache.fakeChatWrapper);setTimeout((function(){cache.fakeChatButton.classList.add("show")}),2e3)}ready(attachButton)}function setLoading(){if(cache.fakeChatButton){cache.fakeChatButton.classList.add("loading")}}function setLoaded(_drift){if(cache.fakeChatButton){_drift.on("ready",(function(api){cache.fakeChatButton.classList.remove("loading","show");if(cache.fakeChatMessageBubble){cache.fakeChatMessageBubble.classList.remove("show")}setTimeout((function(){cache.fakeChatWrapper&&cache.fakeChatWrapper.remove();api.startInteraction({interactionId:cache.pageSettings.chatBot.activeSettings.interactionId,goToConversation:true});shouldAdAdrollAndDrift()}),400)}))}}function initChatBot(){cache.fakeChatButton&&loadDriftWidget({beforeCB:setLoading,afterCB:setLoaded})}function addFakeChatBot(){window.addEventListener(cache.pageSettings.chatBot.eventName,initChatBot,false);injectFakeChatBot()}function chatBot(){driftAbTestCallback();if(cache.pageSettings.chatBot.activeSettings.interactionId){addFakeChatBot()}else{addDrift()}}function vendorScripts(){waitForThenDo((function(){if(hasKey(window,"StorageConsent")&&hasKey(window.StorageConsent,"onConsentLevelReady")){return true}}),(function(){window.StorageConsent.onConsentLevelReady((function(){var vendorCallbacks=[];cache.storageConsent.canRunFunctionalScripts=window.StorageConsent.canRunFunctionalScripts();cache.storageConsent.canRunAdvertisingScripts=window.StorageConsent.canRunAdvertisingScripts();if(cache.storageConsent.canRunFunctionalScripts){if(cache.distConfig.loadBizible){vendorCallbacks.push(bizibleCallback)}if(cache.distConfig.loadDrift){vendorCallbacks.push(chatBot)}}if(cache.storageConsent.canRunAdvertisingScripts){vendorCallbacks.push(adrollAndMarketo,webSightsCallback,rollworksCallback)}if(vendorCallbacks.length>0){for(var i=0;i<vendorCallbacks.length;i+=1){verboseLog("[running function] ".concat(vendorCallbacks[i]).slice(0,500));vendorCallbacks[i]()}}}))}))}function toUpper(str){if(!str||typeof str!=="string")return"";if(str&&typeof str.toUpperCase==="function")return str.toUpperCase();return str}function toLower(str){if(!str||typeof str!=="string")return"";if(str&&typeof str.toLowerCase==="function")return str.toLowerCase();return str}function snakeCase(str){if(!str||typeof str!=="string")return"";var strArr=[];for(var i=0,ii=str.length;i<ii;i++){var _char=str[i];if(/^\\w$/.test(_char)){if(i!==0&&!/^[A-Z]$/.test(str[i-1])&&/^[A-Z]$/.test(_char))strArr.push("_");strArr.push(_char.toLowerCase())}else if(i!==0&&/^\\s$/.test(_char)&&strArr[i-1]!=="_"){strArr.push("_")}}while(strArr[0]==="_"){strArr.shift()}while(strArr[strArr.length-1]==="_"){strArr.pop()}return strArr.join("").replace(/_+/g,"_")}function camelCase(str){var parts=snakeCase(str).split("_");for(var i=0;i<parts.length;i++){if(i>0){parts[i]=(parts[i].charAt(0)||"").toUpperCase()+parts[i].slice(1)}}return parts.join("")}function pascalCase(str){var parts=snakeCase(str).split("_");for(var i=0;i<parts.length;i++){parts[i]=(parts[i].charAt(0)||"").toUpperCase()+parts[i].slice(1)}return parts.join("")}function kebabCase(str){return snakeCase(str).replace(/_+/g,"-")}function split(string,dilimiter){if(string&&string.split)return string.split(dilimiter);return[]}function flatten(arr){var result=[];forEach(arr,(function(elm){if(isArray$1(elm))forEach(elm,(function(elm2){return result.push(elm2)}));else result.push(elm)}));return result}function forOwn(arg,func){for(var key in arg){if(arg.hasOwnProperty(key)){if(typeof func==="function")func(arg[key],key)}}}function isArray$1(obj){if(!obj)return false;return _typeof(obj)==="object"&&(Array.isArray&&Array.isArray(obj)||obj.constructor===Array||obj instanceof Array)}function forEach(list,func){if(!list||!list.length)return null;if(typeof func!=="function")return console.error("2nd param to forEach must be function");for(var i=0,ii=list.length;i<ii;i++){func(list[i],i)}}function some(list,func){if(!list||!list.length||typeof func!=="function")return false;for(var i=0,ii=list.length;i<ii;i++){if(func(list[i],i))return true}return false}function every(list,func){if(!list||!list.length||typeof func!=="function")return true;for(var i=0,ii=list.length;i<ii;i++){if(!func(list[i],i))return false}return true}function map(list,func){if(!list||!list.length)return[];if(typeof func!=="function")func=function func(x){return x};var arr=[];for(var i=0,ii=list.length;i<ii;i++){arr.push(func(list[i],i))}return arr}function filter(list,func){if(!list||!list.length)return[];if(typeof func!=="function")return[];var arr=[];for(var i=0,ii=list.length;i<ii;i++){if(func(list[i]))arr.push(list[i])}return arr}function has(obj,path){if(typeof obj==="undefined"||obj===null){return false}if(typeof path==="undefined"||path===null||path===""){return true}var pathArr;if(isArray$1(path)){pathArr=path}else if(typeof path==="number"){pathArr=[path]}else{pathArr=split(path,".")}if(!pathArr.length){return true}if(obj.hasOwnProperty(pathArr[0])){var sliced=pathArr.slice(1);if(sliced.length===0){return true}return has(obj[pathArr[0]],sliced)}return false}function get(obj,path){var defaultVal=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(typeof obj==="undefined"||obj===null||_typeof(obj)!=="object")return defaultVal;if(typeof path==="undefined"||path===null||path==="")return defaultVal||obj;var pathArr=isArray$1(path)?path:split(path,".");if(!pathArr.length)return defaultVal||obj;if((obj||{})[pathArr[0]]){var sliced=pathArr.slice(1);if(sliced.length===0)return(obj||{})[pathArr[0]];return get(obj[pathArr[0]],sliced)}return defaultVal}function concat(arr){var newArr=[];for(var i=0,ii=arr.length;i<ii;i++){newArr.push(arr[i])}for(var _i2=0,_ii=arguments.length<=1?0:arguments.length-1;_i2<_ii;_i2++){newArr.push(_i2+1<1||arguments.length<=_i2+1?undefined:arguments[_i2+1])}return flatten(newArr)}function endsWith(){var str=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var chars=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var delta=str.length-chars.length;var slice=str.slice(delta);if(isArray$1(str)){if(isArray$1(chars)){for(var i=0;i<slice.length;i++){if(slice[i]!=chars[i]){return false}}return true}return str[str.length-1]==chars}if(typeof str==="string"){return str.slice(delta)==chars}}function isDevelopmentEnvironment(){var devHosts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var hostname=window.location.hostname;return some(devHosts,(function(devHost){return(devHost||{}).hostname===hostname}))}function verboseLoggingEnabled(){return window.location.host==="localhost:7878"||/(trikelog|verbose)=[1t]/i.test(window.location.search)}function serializeForm(el,options){var obj={};var data=new window.FormData(el);var visibleElements=filter(el.querySelectorAll("input"),(function(input){if(input.getAttribute("type")==="hidden"||input.getAttribute("type")==="submit"){if(!options.includeHiddenFields){data["delete"](input.getAttribute("name"))}return false}return true}));var _iterator=_createForOfIteratorHelper(data.entries()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=_slicedToArray(_step.value,2),k=_step$value[0],v=_step$value[1];obj[k]=v}}catch(err){_iterator.e(err)}finally{_iterator.f()}return _objectSpread(_objectSpread({},obj),{},{fields:visibleElements.length})}var getCookieValue=function getCookieValue(name){return((document.cookie||"").match(new RegExp("(^| )".concat(name,"=([^;]+)")))||[])[2]};var urlTargetValues$1=["href","url_path","query_string","url_hash","hostname"];function cleanUrlConditionValue(){var value=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";if(value&&value.length>0&&endsWith(value,"/")){return value.slice(0,-1)}return value}function isUrlConditionMatch(condition){var condOperation=condition.url_filter_operation||condition.url_operation;var realValue=urlTargetRealValue(condition.condition_target);var urlConditionValue=cleanUrlConditionValue(condition.url_filter_value||condition.url_value);if(condOperation==="equals"){return toUpper(realValue||"")===toUpper(urlConditionValue||"")}if(condOperation==="contains"){return(realValue||"").indexOf(urlConditionValue||"")>=0}if(condOperation==="starts_with"){var targetVal=urlConditionValue||"";return(realValue||"").slice(0,targetVal.length)===targetVal}}function urlTargetRealValue(target){var realValue="";if(target==="href"){realValue=window.location.href}else if(target==="url_path"){realValue=window.location.pathname}else if(target==="query_string"){realValue=window.location.search}else if(target==="url_hash"){realValue=window.location.hash}else if(target==="hostname"){realValue=window.location.hostname}return cleanUrlConditionValue(realValue)}var urlTargetValues=["href","url_path","query_string","url_hash","hostname"];var pathPrefix="";if(window.location.host==="localhost:7878"){if(verboseLoggingEnabled()){console.log("\u274f Trike fetching configs from /development directory")}pathPrefix="/development"}else if(window.location.hostname==="trike-marketing.use1-test-1.internal.invision.works"){if(verboseLoggingEnabled()){console.log("\u274f Trike fetching configs from /testing directory")}pathPrefix="/testing"}function fetchEventGroups(){return new Promise((function(resolve,reject){var xhr=new XMLHttpRequest;xhr.open("GET","https://marketing.invisionapp-cdn.com/trike-invision".concat(pathPrefix,"/index.json"));xhr.onreadystatechange=function(){if(xhr.readyState===4){try{if(!(xhr.status>=200&&xhr.status<300)){throw new Error(xhr.responseText)}var file=JSON.parse(xhr.responseText);resolve(filterActiveGroupsMatchingPage(file.groups))}catch(err){console.error("Trike fetchEventGroups Error",err);reject(err)}}};xhr.send()}))}function fetchTrikeConfig(){return new Promise((function(resolve,reject){var xhr=new XMLHttpRequest;xhr.open("GET","https://marketing.invisionapp-cdn.com/trike-invision".concat(pathPrefix,"/config.json"));xhr.onreadystatechange=function(){if(xhr.readyState===4){try{if(!(xhr.status>=200&&xhr.status<300)){throw new Error(xhr.responseText)}var file=JSON.parse(xhr.responseText);resolve(file)}catch(err){console.error("Trike fetchPropertyKeyMappings Error",err);reject(err)}}};xhr.send()}))}function fetchGroupEvents(groupId){return new Promise((function(resolve,reject){var xhr=new XMLHttpRequest;xhr.open("GET","https://marketing.invisionapp-cdn.com/trike-invision".concat(pathPrefix,"/groups/").concat(groupId,".json"));xhr.onreadystatechange=function(){if(xhr.readyState===4){try{if(!(xhr.status>=200&&xhr.status<300)){throw new Error(xhr.responseText)}resolve(filterActiveEvents(JSON.parse(xhr.responseText).events))}catch(err){console.error("Trike fetchGroupEvents Error",err);reject(err)}}};xhr.send()}))}function isJavaScriptConditionMatch(condition){var varName=condition.javascript_variable_name;var varOperation=condition.javascript_variable_operation;var varRealValue=get(window,varName);if(varOperation==="is_truthy"){return varRealValue}if(varOperation==="is_falsy"){return!varRealValue}if(varOperation==="string_match"){return toUpper(varRealValue)===toUpper(condition.javascript_variable_value)}}function isPageConditionMatch$1(condition){var conditionTarget=condition["condition_target"];if(urlTargetValues.indexOf(conditionTarget)>=0){return isUrlConditionMatch(condition)}else if(conditionTarget==="javascript_variable"){return isJavaScriptConditionMatch(condition)}}function filterActiveGroupsMatchingPage(){var groups=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return filter(groups,(function(g){return g.is_active&&!g.is_deprecated&&some(g.page_conditions,isPageConditionMatch$1)}))}function filterActiveEvents(){var events=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return filter(events,(function(evt){return evt.is_active}))}function fetchEvents(){return new Promise((function(resolve,reject){fetchEventGroups().then((function(groups){Promise.all(map(groups,(function(grp){return fetchGroupEvents(grp.id)}))).then((function(groups){fetchTrikeConfig().then((function(config){var propertyValueModifiers={};forEach(config.property_bank||[],(function(item){if(item&&item.key&&item.value_modifiers&&item.value_modifiers.length){propertyValueModifiers[item.key]=item.value_modifiers}}));resolve({events:concat(groups),propertyKeyMappings:config.property_key_mappings,developmentHosts:config.development_hosts||[],reprovisionEvents:config.reprovision_events||[],segmentIntegrations:config.segment_integrations||[],propertyValueModifiers:propertyValueModifiers})}))["catch"]((function(err){resolve({events:concat(groups)})}))}))}))["catch"]((function(err){console.error("err:",err);reject(err)}))}))}function isPageConditionMatch(condition){if(urlTargetValues$1.indexOf(condition.condition_target)>=0){return isUrlConditionMatch(condition)}}function getPageLandMatches(){var eventDefintions=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var eventIds=[];forOwn(eventDefintions,(function(event,eventId){if(event.is_active&&event.trigger_method==="page_land"){if(some(event.page_land_conditions,isPageConditionMatch)){eventIds.push(eventId)}}}));return eventIds}function massageEventProperties(properties){var props={};forOwn(properties||{},(function(v,k){if(has(propertyKeyMappings,k)){if(propertyKeyMappings[k]){props[propertyKeyMappings[k]]=v}}else{props[k]=v}}));forOwn(props,(function(v,k){if(propertyValueModifiers[k]&&propertyValueModifiers[k].length){var val=v;forEach(propertyValueModifiers[k],(function(modifier){if(modifier==="compress_whitespace"){val=(val||"").replace(/\\s+/g," ").trim()}else if(modifier==="lowercase"){val=toLower(val||"")}else if(modifier==="uppercase"){val=toUpper(val||"")}else if(modifier==="snakecase"){val=snakeCase(val||"")}else if(modifier==="kebabcase"){val=kebabCase(val||"")}else if(modifier==="camelcase"){val=camelCase(val||"")}else if(modifier==="pascalcase"){val=pascalCase(val||"")}}));if(verboseLoggingEnabled()&&v!==val){console.log(\'\u274f Trike modifying prop "\'.concat(k,\'"\'),[v,val])}props[k]=val}}));return props}var _isTrikeReady=false;var queue=[];function isTrikeReady(){return _isTrikeReady}function trikeReady(){_isTrikeReady=true}var objectToString=Object.prototype.toString;var isArray=Array.isArray||function isArrayPolyfill(object){return objectToString.call(object)==="[object Array]"};function isFunction(object){return typeof object==="function"}function typeStr(obj){return isArray(obj)?"array":_typeof(obj)}function escapeRegExp(string){return string.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,"\\\\$&")}function hasProperty(obj,propName){return obj!=null&&_typeof(obj)==="object"&&propName in obj}function primitiveHasOwnProperty(primitive,propName){return primitive!=null&&_typeof(primitive)!=="object"&&primitive.hasOwnProperty&&primitive.hasOwnProperty(propName)}var regExpTest=RegExp.prototype.test;function testRegExp(re,string){return regExpTest.call(re,string)}var nonSpaceRe=/\\S/;function isWhitespace(string){return!testRegExp(nonSpaceRe,string)}var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",\'"\':"&quot;","\'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function escapeHtml(string){return String(string).replace(/[&<>"\'`=\\/]/g,(function fromEntityMap(s){return entityMap[s]}))}var whiteRe=/\\s*/;var spaceRe=/\\s+/;var equalsRe=/\\s*=/;var curlyRe=/\\s*\\}/;var tagRe=/#|\\^|\\/|>|\\{|&|=|!/;function parseTemplate(template,tags){if(!template)return[];var lineHasNonSpace=false;var sections=[];var tokens=[];var spaces=[];var hasTag=false;var nonSpace=false;var indentation="";var tagIndex=0;function stripSpace(){if(hasTag&&!nonSpace){while(spaces.length){delete tokens[spaces.pop()]}}else{spaces=[]}hasTag=false;nonSpace=false}var openingTagRe,closingTagRe,closingCurlyRe;function compileTags(tagsToCompile){if(typeof tagsToCompile==="string")tagsToCompile=tagsToCompile.split(spaceRe,2);if(!isArray(tagsToCompile)||tagsToCompile.length!==2)throw new Error("Invalid tags: "+tagsToCompile);openingTagRe=new RegExp(escapeRegExp(tagsToCompile[0])+"\\\\s*");closingTagRe=new RegExp("\\\\s*"+escapeRegExp(tagsToCompile[1]));closingCurlyRe=new RegExp("\\\\s*"+escapeRegExp("}"+tagsToCompile[1]))}compileTags(tags||mustache.tags);var scanner=new Scanner(template);var start,type,value,chr,token,openSection;while(!scanner.eos()){start=scanner.pos;value=scanner.scanUntil(openingTagRe);if(value){for(var i=0,valueLength=value.length;i<valueLength;++i){chr=value.charAt(i);if(isWhitespace(chr)){spaces.push(tokens.length);indentation+=chr}else{nonSpace=true;lineHasNonSpace=true;indentation+=" "}tokens.push(["text",chr,start,start+1]);start+=1;if(chr==="\\n"){stripSpace();indentation="";tagIndex=0;lineHasNonSpace=false}}}if(!scanner.scan(openingTagRe))break;hasTag=true;type=scanner.scan(tagRe)||"name";scanner.scan(whiteRe);if(type==="="){value=scanner.scanUntil(equalsRe);scanner.scan(equalsRe);scanner.scanUntil(closingTagRe)}else if(type==="{"){value=scanner.scanUntil(closingCurlyRe);scanner.scan(curlyRe);scanner.scanUntil(closingTagRe);type="&"}else{value=scanner.scanUntil(closingTagRe)}if(!scanner.scan(closingTagRe))throw new Error("Unclosed tag at "+scanner.pos);if(type==">"){token=[type,value,start,scanner.pos,indentation,tagIndex,lineHasNonSpace]}else{token=[type,value,start,scanner.pos]}tagIndex++;tokens.push(token);if(type==="#"||type==="^"){sections.push(token)}else if(type==="/"){openSection=sections.pop();if(!openSection)throw new Error(\'Unopened section "\'+value+\'" at \'+start);if(openSection[1]!==value)throw new Error(\'Unclosed section "\'+openSection[1]+\'" at \'+start)}else if(type==="name"||type==="{"||type==="&"){nonSpace=true}else if(type==="="){compileTags(value)}}stripSpace();openSection=sections.pop();if(openSection)throw new Error(\'Unclosed section "\'+openSection[1]+\'" at \'+scanner.pos);return nestTokens(squashTokens(tokens))}function squashTokens(tokens){var squashedTokens=[];var token,lastToken;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];if(token){if(token[0]==="text"&&lastToken&&lastToken[0]==="text"){lastToken[1]+=token[1];lastToken[3]=token[3]}else{squashedTokens.push(token);lastToken=token}}}return squashedTokens}function nestTokens(tokens){var nestedTokens=[];var collector=nestedTokens;var sections=[];var token,section;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];switch(token[0]){case"#":case"^":collector.push(token);sections.push(token);collector=token[4]=[];break;case"/":section=sections.pop();section[5]=token[2];collector=sections.length>0?sections[sections.length-1][4]:nestedTokens;break;default:collector.push(token)}}return nestedTokens}function Scanner(string){this.string=string;this.tail=string;this.pos=0}Scanner.prototype.eos=function eos(){return this.tail===""};Scanner.prototype.scan=function scan(re){var match=this.tail.match(re);if(!match||match.index!==0)return"";var string=match[0];this.tail=this.tail.substring(string.length);this.pos+=string.length;return string};Scanner.prototype.scanUntil=function scanUntil(re){var index=this.tail.search(re),match;switch(index){case-1:match=this.tail;this.tail="";break;case 0:match="";break;default:match=this.tail.substring(0,index);this.tail=this.tail.substring(index)}this.pos+=match.length;return match};function Context(view,parentContext){this.view=view;this.cache={".":this.view};this.parent=parentContext}Context.prototype.push=function push(view){return new Context(view,this)};Context.prototype.lookup=function lookup(name){var cache=this.cache;var value;if(cache.hasOwnProperty(name)){value=cache[name]}else{var context=this,intermediateValue,names,index,lookupHit=false;while(context){if(name.indexOf(".")>0){intermediateValue=context.view;names=name.split(".");index=0;while(intermediateValue!=null&&index<names.length){if(index===names.length-1)lookupHit=hasProperty(intermediateValue,names[index])||primitiveHasOwnProperty(intermediateValue,names[index]);intermediateValue=intermediateValue[names[index++]]}}else{intermediateValue=context.view[name];lookupHit=hasProperty(context.view,name)}if(lookupHit){value=intermediateValue;break}context=context.parent}cache[name]=value}if(isFunction(value))value=value.call(this.view);return value};function Writer(){this.templateCache={_cache:{},set:function set(key,value){this._cache[key]=value},get:function get(key){return this._cache[key]},clear:function clear(){this._cache={}}}}Writer.prototype.clearCache=function clearCache(){if(typeof this.templateCache!=="undefined"){this.templateCache.clear()}};Writer.prototype.parse=function parse(template,tags){var cache=this.templateCache;var cacheKey=template+":"+(tags||mustache.tags).join(":");var isCacheEnabled=typeof cache!=="undefined";var tokens=isCacheEnabled?cache.get(cacheKey):undefined;if(tokens==undefined){tokens=parseTemplate(template,tags);isCacheEnabled&&cache.set(cacheKey,tokens)}return tokens};Writer.prototype.render=function render(template,view,partials,config){var tags=this.getConfigTags(config);var tokens=this.parse(template,tags);var context=view instanceof Context?view:new Context(view,undefined);return this.renderTokens(tokens,context,partials,template,config)};Writer.prototype.renderTokens=function renderTokens(tokens,context,partials,originalTemplate,config){var buffer="";var token,symbol,value;for(var i=0,numTokens=tokens.length;i<numTokens;++i){value=undefined;token=tokens[i];symbol=token[0];if(symbol==="#")value=this.renderSection(token,context,partials,originalTemplate,config);else if(symbol==="^")value=this.renderInverted(token,context,partials,originalTemplate,config);else if(symbol===">")value=this.renderPartial(token,context,partials,config);else if(symbol==="&")value=this.unescapedValue(token,context);else if(symbol==="name")value=this.escapedValue(token,context,config);else if(symbol==="text")value=this.rawValue(token);if(value!==undefined)buffer+=value}return buffer};Writer.prototype.renderSection=function renderSection(token,context,partials,originalTemplate,config){var self=this;var buffer="";var value=context.lookup(token[1]);function subRender(template){return self.render(template,context,partials,config)}if(!value)return;if(isArray(value)){for(var j=0,valueLength=value.length;j<valueLength;++j){buffer+=this.renderTokens(token[4],context.push(value[j]),partials,originalTemplate,config)}}else if(_typeof(value)==="object"||typeof value==="string"||typeof value==="number"){buffer+=this.renderTokens(token[4],context.push(value),partials,originalTemplate,config)}else if(isFunction(value)){if(typeof originalTemplate!=="string")throw new Error("Cannot use higher-order sections without the original template");value=value.call(context.view,originalTemplate.slice(token[3],token[5]),subRender);if(value!=null)buffer+=value}else{buffer+=this.renderTokens(token[4],context,partials,originalTemplate,config)}return buffer};Writer.prototype.renderInverted=function renderInverted(token,context,partials,originalTemplate,config){var value=context.lookup(token[1]);if(!value||isArray(value)&&value.length===0)return this.renderTokens(token[4],context,partials,originalTemplate,config)};Writer.prototype.indentPartial=function indentPartial(partial,indentation,lineHasNonSpace){var filteredIndentation=indentation.replace(/[^ \\t]/g,"");var partialByNl=partial.split("\\n");for(var i=0;i<partialByNl.length;i++){if(partialByNl[i].length&&(i>0||!lineHasNonSpace)){partialByNl[i]=filteredIndentation+partialByNl[i]}}return partialByNl.join("\\n")};Writer.prototype.renderPartial=function renderPartial(token,context,partials,config){if(!partials)return;var tags=this.getConfigTags(config);var value=isFunction(partials)?partials(token[1]):partials[token[1]];if(value!=null){var lineHasNonSpace=token[6];var tagIndex=token[5];var indentation=token[4];var indentedValue=value;if(tagIndex==0&&indentation){indentedValue=this.indentPartial(value,indentation,lineHasNonSpace)}var tokens=this.parse(indentedValue,tags);return this.renderTokens(tokens,context,partials,indentedValue,config)}};Writer.prototype.unescapedValue=function unescapedValue(token,context){var value=context.lookup(token[1]);if(value!=null)return value};Writer.prototype.escapedValue=function escapedValue(token,context,config){var escape=this.getConfigEscape(config)||mustache.escape;var value=context.lookup(token[1]);if(value!=null)return typeof value==="number"&&escape===mustache.escape?String(value):escape(value)};Writer.prototype.rawValue=function rawValue(token){return token[1]};Writer.prototype.getConfigTags=function getConfigTags(config){if(isArray(config)){return config}else if(config&&_typeof(config)==="object"){return config.tags}else{return undefined}};Writer.prototype.getConfigEscape=function getConfigEscape(config){if(config&&_typeof(config)==="object"&&!isArray(config)){return config.escape}else{return undefined}};var mustache={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:undefined,escape:undefined,parse:undefined,render:undefined,Scanner:undefined,Context:undefined,Writer:undefined,set templateCache(cache){defaultWriter.templateCache=cache},get templateCache(){return defaultWriter.templateCache}};var defaultWriter=new Writer;mustache.clearCache=function clearCache(){return defaultWriter.clearCache()};mustache.parse=function parse(template,tags){return defaultWriter.parse(template,tags)};mustache.render=function render(template,view,partials,config){if(typeof template!=="string"){throw new TypeError(\'Invalid template! Template should be a "string" \'+\'but "\'+typeStr(template)+\'" was given as the first \'+"argument for mustache#render(template, view, partials)")}return defaultWriter.render(template,view,partials,config)};mustache.escape=escapeHtml;mustache.Scanner=Scanner;mustache.Context=Context;mustache.Writer=Writer;var logPublic=function logPublic(){var id=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var variables=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var eventProperties=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(isTrikeReady()){logEvent(id,variables,eventProperties)}else{if(verboseLoggingEnabled()){console.log("\u274f Trike added event to queue:",{id:id,eventProperties:eventProperties,variables:variables})}queue.push({id:id,eventProperties:eventProperties,variables:variables})}return id};function logSegmentTrackEvent(eventName){var properties=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};try{if(window.analytics){window.analytics.track(eventName,properties)}else{console.log("Trike error: segment not loaded")}}catch(e){console.error("trike->segment error:",e)}if(verboseLoggingEnabled()){console.log("\u274f %cTrike%c ".concat(eventName),"color:#000;background-color:salmon;padding:2px 3px 1px;border:2px solid #000;font-family:\'helvetica neue\', helvetica; font-weight: 600;","color:blue;",properties)}}var trackPageLandMatches=function trackPageLandMatches(){var evtIdsToTrack=getPageLandMatches(eventDefinitions);forEach(evtIdsToTrack,(function(id){logPublic(id,{},{})}))};var initLogging=function initLogging(){trikeReady();forEach(queue,(function(_ref9){var id=_ref9.id,eventProperties=_ref9.eventProperties,variables=_ref9.variables;return logEvent(id,variables,eventProperties)}));queue.length=0;trackPageLandMatches()};function exctractMetaTagVariables(){var vars={};var metaTags=(document.head||document).getElementsByTagName("meta")||[];for(var i=0;i<metaTags.length;i++){var tag=metaTags[i];if(tag&&tag.getAttribute){var key=(tag.getAttribute("name")||tag.getAttribute("property")||tag.getAttribute("itemprop")||"").replace(/\\W/g,"_");if(key){vars[key]=tag.getAttribute("content")||""}}}return vars}function parseUrlParams(url){var parsed=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var splitPath=url.split("#")[0].split("?");if(splitPath.length===1||splitPath[1]===""){return false}var urlParams={};function parseValue(value){if(value==="true"||value==="1"||value===null||value===undefined){return true}if(value==="false"||value==="0"){return false}return value}var parsedUrlParams=splitPath[1].split("&");for(var index=0;index<parsedUrlParams.length;index+=1){var keyAndValue=parsedUrlParams[index].split("=");urlParams[keyAndValue[0]]=parsed?parseValue(keyAndValue[1]):keyAndValue[1]}return urlParams}function logEvent(eventId){var variables=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var eventProperties=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var eventDefinition=eventDefinitions[eventId];if(eventDefinition){if(!eventDefinition.is_active){return}var props={trike_id:eventId,hostname:(window.location.hostname||"").replace(/^www\\./,""),page_title:document.title,path:window.location.pathname,search:window.location.search,urlParams:parseUrlParams(window.location.href)};var winGlobals=get(window.trike,"global")||{};var global=variables.global,restVariables=_objectWithoutProperties(variables,_excluded2);var mergedVariables=_objectSpread(_objectSpread({},restVariables),{},{meta:exctractMetaTagVariables(),global:_objectSpread(_objectSpread({},winGlobals),global)});forEach(eventDefinition.properties,(function(prop){props[prop.key]=mustache.render(prop.value,mergedVariables)}));forOwn(eventProperties||{},(function(v,k){props[k]=v}));if(get(eventDefinition,"variables.length")&&verboseLoggingEnabled()){console.log("\u274f Trike available event variables:",mergedVariables)}forEach(eventDefinition.variables,(function(variable){if(!has(mergedVariables,variable)&&!get(mergedVariables,variable)&&verboseLoggingEnabled()){console.error(\'Trike Event "\'.concat(eventId,\'" logged without required variable "\').concat(variable,\'"\'))}}));var properties=massageEventProperties(props);logSegmentTrackEvent(eventDefinition.event_name,properties);secondaryGaTrack(eventDefinition.id,properties)}else{console.warn("trike event not imported:",eventId)}}var eventDefinitions={};var propertyKeyMappings={};var propertyValueModifiers={};var developmentHosts=[];var segmentIntegrations=[];var reprovisionEvents=[];var addReprovisionListener=function addReprovisionListener(eventName){if(verboseLoggingEnabled()){console.log("\\n\u274f Trike adding reprovision listener:",eventName)}window.addEventListener(eventName,(function(){return provisionTrike(initLogging)}))};var provisionTrike=function provisionTrike(cb){fetchEvents().then((function(response){var events=response.events;var keyMappings=response.propertyKeyMappings;var devHosts=response.developmentHosts;var reprovisionEvts=response.reprovisionEvents;var sgmtIntegrations=response.segmentIntegrations;forEach(events,(function(evt){eventDefinitions[evt.id]=evt}));forEach(keyMappings,(function(mapping){propertyKeyMappings[mapping.from_key]=mapping.to_key}));forOwn(response.propertyValueModifiers,(function(val,key){propertyValueModifiers[key]=val}));forEach(devHosts,(function(host){developmentHosts.push(host)}));forEach(reprovisionEvts,(function(evt){if(reprovisionEvents.indexOf(evt)<0){reprovisionEvents.push(evt);addReprovisionListener(evt)}}));forEach(sgmtIntegrations,(function(integration){segmentIntegrations.push(integration)}));if(verboseLoggingEnabled()){console.log("\\n\u274f Trike events loaded:",events)}if(typeof cb==="function"){cb()}}))["catch"]((function(provisionError){console.error("Trike provisionError::",provisionError);console.trace()}))};var vendorState={qualifiesForGDPR:false,canRunFunctionalScripts:true,canRunAdvertisingScripts:true};var SEGMENT_PROD_PUBLIC_KEY="Kh9KSyCpznuWucjEn7EXeV1g4FG15X07";var SEGMENT_DEV_PUBLIC_KEY="llMxDgbn9mtjQ99XHVZBuBThgnXnHFI5";var SECONDARY_GA_PROD_TRACKING_ID="UA-24306919-2";var SECONDARY_GA_DEV_TRACKING_ID="UA-24306919-13";var GOOGLE_OPTIMIZE_ID="OPT-N7T9CJ9";function loadSecondaryGA(trackingId,cookieDomain){(function(i,s,o,g,r,a,m){i.GoogleAnalyticsObject=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date;a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");if(window.ga){window.ga("create",trackingId,cookieDomain,{name:"secondTracker"})}}function loadGoogleOptimize(){if(verboseLoggingEnabled()){console.log("\\n\u274f Trike loading Google Optimize")}var script=document.createElement("script");script.type="text/javascript";script.async=true;script.src="https://www.googleoptimize.com/optimize.js?id=".concat(GOOGLE_OPTIMIZE_ID);var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(script,a)}function loadRedditPixel(){if(verboseLoggingEnabled()){console.log("\\n\u274f Trike loading Reddit Pixel")}var redditPixelScript=\'<script>\\n  !function(w,d){if(!w.rdt){var p=w.rdt=function(){p.sendEvent?p.sendEvent.apply(p,arguments):p.callQueue.push(arguments)};p.callQueue=[];var t=d.createElement("script");t.src="https://www.redditstatic.com/ads/pixel.js",t.async=!0;var s=d.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}}(window,document);rdt(\\\'init\\\',\\\'t2_os0n62cn\\\', {"optOut":false,"useDecimalCurrencyValues":true});rdt(\\\'track\\\', \\\'PageVisit\\\');\\n  <\\/script>\';attachDomNodes({nodes:[redditPixelScript]});function fireRdtEvent(_ref10){var text=_ref10.text,event=_ref10.event;rdt("track",event);verboseLog("[Reddit Pixel]","rdt(\'track\', ".concat(event,\') on "\').concat(text,\'"\'))}function fireClickEvents(){function handleClick(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var _e$detail=e.detail;_e$detail=_e$detail===void 0?{}:_e$detail;var _e$detail$ariaLabel=_e$detail.ariaLabel,ariaLabel=_e$detail$ariaLabel===void 0?"":_e$detail$ariaLabel;var list=window.invRdtConfig.links;for(var i=0;i<list.length;i+=1){var _list$i=list[i],text=_list$i.text,event=_list$i.event;if(text&&event){if(text.toLowerCase()===ariaLabel.toLowerCase()){fireRdtEvent({text:text,event:event})}}}}if(window.hasOwnProperty("invRdtConfig")&&window.invRdtConfig.hasOwnProperty("links")){verboseLog("[Reddit Pixel]","Adding listener for links");window.addEventListener("inv-site-select-clicked",handleClick,false)}}function setupRdt(){fireClickEvents()}waitForThenDo((function(){if(window.hasOwnProperty("rdt")){return true}return false}),setupRdt)}function genSegmentIntegrationsObject(){var integrations=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var result={};if(!vendorState.qualifiesForGDPR||!window.StorageConsent||!integrations||!integrations.length){result.All=true}else{result.All=false;forEach(integrations,(function(integration){if(integration.gdpr_tier==="required"){result[integration.integration_name]=true}else{var domains=integration.domains||[];var hasDeniedDomain=some(domains,(function(host){return(window.StorageConsent.getConsentDecisionForDomain(host)||{}).consent==="denied"}));if(verboseLoggingEnabled()){console.log("\u274f Segment integration domain denied:",integration.integration_name,hasDeniedDomain)}if(integration.gdpr_tier==="functional"){result[integration.integration_name]=vendorState.canRunFunctionalScripts&&!hasDeniedDomain}else if(integration.gdpr_tier==="advertising"){result[integration.integration_name]=vendorState.canRunAdvertisingScripts&&!hasDeniedDomain}}}))}return result}function loadSegment(sourceId){var formattedSgmtIntegrations=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(verboseLoggingEnabled()){console.log("\\n\u274f Trike loading Segment with integrations:");for(var key in formattedSgmtIntegrations){console.log("  %c".concat(formattedSgmtIntegrations[key]?"\u2714\ufe0e":"\u2718"," ").concat(key),formattedSgmtIntegrations[key]?"color: #00d600;":"color: #f00;")}}!(function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var _key2=analytics.methods[e];analytics[_key2]=analytics.factory(_key2)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/".concat(key,"/analytics.min.js");var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey=sourceId;analytics.SNIPPET_VERSION="4.15.3";analytics.load(sourceId,{integrations:formattedSgmtIntegrations});analytics.page()}})()}function loadVendorScripts(){var formattedSegmentIntegrations=genSegmentIntegrationsObject(segmentIntegrations);var isDev=isDevelopmentEnvironment(developmentHosts);if(verboseLoggingEnabled()&&isDev){console.log("\\n\u274f Trike loading integrations in DEVELOPMENT environemt")}loadSegment(isDev?SEGMENT_DEV_PUBLIC_KEY:SEGMENT_PROD_PUBLIC_KEY,formattedSegmentIntegrations);if(vendorState.canRunFunctionalScripts){verboseLog("[loadVendorScripts]","vendorState.canRunFunctionalScripts");loadSecondaryGA(isDev?SECONDARY_GA_DEV_TRACKING_ID:SECONDARY_GA_PROD_TRACKING_ID,isDev?"none":"auto")}if(vendorState.canRunFunctionalScripts){verboseLog("[loadVendorScripts]","vendorState.canRunFunctionalScripts");cache.distConfig.loadGoogleOptimize&&loadGoogleOptimize();cache.distConfig.loadRedditPixel&&loadRedditPixel()}}function provisionVendorScripts(cb){if(getCookieValue("inv-storage-consent")==="notice only"||!window.StorageConsent||typeof window.StorageConsent.onConsentLevelReady!=="function"){if(verboseLoggingEnabled()){console.log("\\n\u274f Trike not waiting for StorageConsent");if(!window.StorageConsent){console.log("\\n\u274f Trike `window.StorageConsent` not found")}}loadVendorScripts();if(typeof cb==="function"){cb()}}else{window.StorageConsent.onConsentLevelReady((function(){var qualifiesForGDPR=window.StorageConsent.qualifiesForGDPR();var canRunFunctionalScripts=window.StorageConsent.canRunFunctionalScripts();var canRunAdvertisingScripts=window.StorageConsent.canRunAdvertisingScripts();if(verboseLoggingEnabled()){console.log("\\n\u274f Trike GDPR consentLevelReady",{qualifiesForGDPR:qualifiesForGDPR,canRunFunctionalScripts:canRunFunctionalScripts,canRunAdvertisingScripts:canRunAdvertisingScripts})}vendorState.qualifiesForGDPR=qualifiesForGDPR;vendorState.canRunFunctionalScripts=canRunFunctionalScripts;vendorState.canRunAdvertisingScripts=canRunAdvertisingScripts;loadVendorScripts();if(typeof cb==="function"){cb()}}))}}function secondaryGaTrack(eventId,props){var gaProps={eventAction:props.eventAction||props.action,eventLabel:props.eventLabel||props.label,eventCategory:props.eventCategory||props.category};if(typeof props.nonInteraction!=="undefined"){gaProps.nonInteraction=props.nonInteraction}if(!gaProps.eventAction&&verboseLoggingEnabled()){console.warn(\'\u274f Trike event "\'.concat(eventId,\'" missing "eventAction" for GA. \')+"The following are required for GA: eventAction, eventLabel, eventCategory")}if(window.ga&&gaProps.eventAction){window.ga("secondTracker.send","event",gaProps)}}function isTrackableElement(node){var invalidNodeNames=["document","#document","html","body","head"];return(node instanceof window.HTMLElement||node instanceof window.SVGElement)&&invalidNodeNames.indexOf(toLower(node.nodeName))<0}function addGlobalClickListener(){var eventDefinitions=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};window.addEventListener("click",(function(evt){var node=evt.target;if(!evt.isTrusted&&!evt.clientX&&!evt.clientY){return}while(isTrackableElement(node)){for(var id in eventDefinitions){var eventDefinition=eventDefinitions[id];if(eventDefinition.trigger_method==="click"){var selector=eventDefinition.click_selector;if(typeof node.matches==="function"&&selector&&node.matches(selector)){if(isTrikeReady()){return logEvent(eventDefinition.id,{element:node,event:evt},{})}return queue.push({id:eventDefinition.id,eventProperties:{},variables:{element:node,event:evt}})}}}node=node.parentNode}}),true)}var customEventNames={};function isCustomEventConditionMatch(condition,windowEvent){var condOperation=condition.operation;var propertyName=condition.custom_event_property;var propertyValue=condition.custom_event_property_value;var realValue=get({event:windowEvent},propertyName);if(condOperation==="equals"){return toUpper(propertyValue||"")===toUpper(realValue||"")}else if(condOperation==="contains"){return(realValue||"").indexOf(propertyValue||"")>=0}else if(condOperation==="starts_with"){return(realValue||"").slice(0,propertyValue.length)===propertyValue}}function customEventHandler(eventName,windowEvent){forOwn(eventDefinitions,(function(eventDefinition){if(eventDefinition.trigger_method==="custom_event"&&eventDefinition.custom_event_name===eventName){var conditionsMatch=every(eventDefinition.custom_event_conditions,(function(cond){return isCustomEventConditionMatch(cond,windowEvent)}));if(conditionsMatch){if(isTrikeReady()){logEvent(eventDefinition.id,{event:windowEvent},{})}else{return queue.push({id:eventDefinition.id,eventProperties:{},variables:{event:windowEvent}})}}}}))}function addGlobalListener(eventName){window.addEventListener(eventName,(function(evt){return customEventHandler(eventName,evt)}),true)}function addCustomEventListeners(){forOwn(eventDefinitions,(function(_ref11){var trigger_method=_ref11.trigger_method,custom_event_name=_ref11.custom_event_name;if(trigger_method==="custom_event"&&custom_event_name&&!customEventNames[custom_event_name]){customEventNames[custom_event_name]=true;addGlobalListener(custom_event_name)}}))}function trike(){verboseLog("DIST | loading Trike");if(window.trike&&window.trike.initialized){console.warn("Trike already loaded")}else{if(!window.trike){window.trike={}}if(!window.trike.global){window.trike.global={}}window.trike.initialized=true;window.trike.log=function(){var id=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var variables=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var eventProperties=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return logPublic(id,variables,eventProperties)};window.trike.track=function(){var id=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var variables=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var eventProperties=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return logPublic(id,variables,eventProperties)};window.trike.serializeForm=function(formElement){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{includeHiddenFields:false};return serializeForm(formElement,options)};window.trike.provision=function(cb){provisionTrike((function(){initLogging();if(typeof cb==="function"){cb()}}))};provisionTrike((function(){addGlobalClickListener(eventDefinitions);addCustomEventListeners();if(document.readyState==="complete"||document.readyState==="interactive"){provisionVendorScripts(initLogging)}else{document.addEventListener("DOMContentLoaded",(function(){provisionVendorScripts(initLogging)}))}}))}}function runTrike(){if(cache.distConfig.loadTrike){trike()}}var hostsAllowed=["invisionapp.com","designbetter.co","invision.works","invision.com","localhost:2020"];var allowedUtmParams=["utm_campaign","utm_content","utm_medium","utm_source","utm_term"];function modifyUrl(_ref12){var href=_ref12.href;var parsedHref=href.substring(0,1)==="/"?window.location.origin+href:href;var _getUrlParts=getUrlParts(parsedHref),rootDomain=_getUrlParts.rootDomain,_getUrlParts$origin=_getUrlParts.origin,origin=_getUrlParts$origin===void 0?"":_getUrlParts$origin,_getUrlParts$pathname=_getUrlParts.pathname,pathname=_getUrlParts$pathname===void 0?"":_getUrlParts$pathname,search=_getUrlParts.search,_getUrlParts$hash=_getUrlParts.hash,hash=_getUrlParts$hash===void 0?"":_getUrlParts$hash;if(arrayContains(hostsAllowed,rootDomain)){return origin+pathname+objectToParamsString(_objectSpread(_objectSpread({},search?parseUrlParams$1(search):{}),cache.utmParamsToPass),true)+hash}return false}function modifyTagAttributes(_ref13){var _ref13$nodes=_ref13.nodes,nodes=_ref13$nodes===void 0?null:_ref13$nodes,_ref13$attribute=_ref13.attribute,attribute=_ref13$attribute===void 0?"href":_ref13$attribute;if(!nodes){return}var nodesToArr=nodes.length?nodes:[nodes];for(var i=0;i<nodesToArr.length;i+=1){var attr=nodesToArr[i][attribute];if(attr){var modifiedUrl=modifyUrl({href:attr});if(modifiedUrl){nodesToArr[i].setAttribute(attribute,modifiedUrl)}}}}function passUtmParams(){cache.utmParamsToPass=cache.utmParamsToPass||{};for(var i=0;i<allowedUtmParams.length;i+=1){var possibleUtmParam=allowedUtmParams[i];if(hasKey(cache.windowUrlParams,possibleUtmParam)){cache.utmParamsToPass[possibleUtmParam]=cache.windowUrlParams[possibleUtmParam]}}if(!isEmptyObject(cache.utmParamsToPass)){window.invPassUtmToTags=modifyTagAttributes;window.invPassUtmToUrl=modifyUrl;modifyTagAttributes({nodes:document.querySelectorAll("a,button"),attribute:"href"})}}function runDist(){setup();if(!cache.distConfig.loadNone){storageConsent();runTrike();enqueueTask(vendorScripts);enqueueTask(passUtmParams)}}runDist()})();\n'}})}},43218:function(e,t,n){e.exports=n(9499)}}]);